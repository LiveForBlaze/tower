# React TD ‚Äî Tower Defense –Ω–∞ React + Canvas

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –∏ –±—ã—Å—Ç—Ä–∞—è TD-–∏–≥—Ä–∞ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—á–µ–ª–ª–µ–Ω–¥–∂–∞. –ê–∫—Ü–µ–Ω—Ç –Ω–∞ **UX/UI**, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—É—é –ª–æ–≥–∏–∫—É –∏ —á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É. –†–µ–Ω–¥–µ—Ä ‚Äî Canvas 2D —Å Hi-DPI –∏ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–æ–π –∞—Å—Å–µ—Ç–æ–≤.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

(–¢—Ä–µ–±—É–µ—Ç—Å—è Node 18+)

    npm i
    npm run dev
    # –æ—Ç–∫—Ä–æ–π http://localhost:5173

–°–±–æ—Ä–∫–∞ –∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:

    npm run build
    npm run preview

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

    src/
      engine/
        sim.ts        # –∏–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞: —Ç–∏–∫–∏, –≤–æ–ª–Ω—ã, –±–∞—à–Ω–∏, –º–æ–±—ã, —Å–Ω–∞—Ä—è–¥—ã
        grid.ts       # –∫–∞—Ä—Ç–∞ –∏ –ø—É—Ç—å (–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ç–∞–π–ª–æ–≤)
        types.ts      # —Å—Ç—Ä–æ–≥–∏–µ —Ç–∏–ø—ã Game/Grid/Mob/Tower/Projectile
      state/
        store.ts      # zustand: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —ç–∫—à–µ–Ω—ã (tick, placeTower, startWave...)
      renderers/
        canvas.ts     # –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø–æ–ª—è, –¥–æ—Ä–æ–≥–∏, —Ç—Ä–∞–≤—ã, –º–æ–±–æ–≤, –±–∞—à–µ–Ω, HP-–±–∞—Ä–æ–≤
      assets/
        towerImages.ts # –∑–∞–≥—Ä—É–∑—á–∏–∫ PNG –±–∞—à–µ–Ω (src/ –∏ public/), –∫—ç—à, decode()
        mobImages.ts   # –∑–∞–≥—Ä—É–∑—á–∏–∫ PNG –º–æ–±–æ–≤ (src/ –∏ public/), –∫—ç—à, decode()
      ui/
        App.tsx       # —Ü–∏–∫–ª –∫–∞–¥—Ä–æ–≤, Hi-DPI –∫–∞–Ω–≤–∞—Å, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∞ –∏ HUD
        Hud.tsx       # –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: —Å—Ç–∞—Ç—É—Å, –±–∏–ª–¥, –∞–ø–≥—Ä–µ–π–¥, —Å–∫–æ—Ä–æ—Å—Ç—å, —Å—Ç–∞—Ä—Ç
    public/
      assets/
        towers/ ...   # –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è –∞—Å—Å–µ—Ç–æ–≤ (–µ—Å–ª–∏ –Ω–µ –≤ src/)
        mobs/   ...

---

## üéÆ –ì–µ–π–º–ø–ª–µ–π

- **–¢–∞–π–ª—ã:**  
  `path` ‚Äî –ø—É—Ç—å –º–æ–±–æ–≤ ‚Ä¢ `buildable` ‚Äî –º–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å ‚Ä¢ `blocked` ‚Äî –Ω–µ–ª—å–∑—è –Ω–∏ —Å—Ç—Ä–æ–∏—Ç—å, –Ω–∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å.
- **–ë–∞—à–Ω–∏ (3 –≤–∏–¥–∞ √ó 3 —Ç–∏—Ä–∞):**
  - **Arrow** ‚Äî –æ–¥–∏–Ω–æ—á–Ω–∞—è —Ü–µ–ª—å, –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—Ä–µ–ª—å–Ω–æ—Å—Ç—å.  
  - **Cannon** ‚Äî —É—Ä–æ–Ω –ø–æ –æ–±–ª–∞—Å—Ç–∏ (splash).  
  - **Frost** ‚Äî –Ω–µ–±–æ–ª—å—à–æ–π —É—Ä–æ–Ω **–∏** –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ (—Å—Ç—ç–∫–∞–µ—Ç—Å—è –ø–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏/–º–∏–Ω–∏–º—É–º—É —Ñ–∞–∫—Ç–æ—Ä–∞).
- **–ú–æ–±—ã:** `normal`, `fast`, `tank`, `flying`.  
- **–í–æ–ª–Ω—ã:** –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ –∫–Ω–æ–ø–∫–µ *Start wave*; –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞; –∞–≤—Ç–æ-–ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –ø–æ–ª—è.
- **–ñ–∏–∑–Ω–∏:** —É–º–µ–Ω—å—à–∞—é—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ—Ä—ã–≤–µ, –∫–ª–∞–º–ø—è—Ç—Å—è –¥–æ 0 (–∏–≥—Ä–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è).

---

## üïπ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

- –í –±–ª–æ–∫–µ **Build** –≤—ã–±–µ—Ä–∏ —Ç–∏–ø –±–∞—à–Ω–∏ ‚Üí –∫–ª–∏–∫ –ø–æ —Å–≤–æ–±–æ–¥–Ω–æ–π `buildable`-–∫–ª–µ—Ç–∫–µ ‚Äî —Å—Ç—Ä–æ–∏—Ç.  
- –ö–ª–∏–∫ –ø–æ –±–∞—à–Ω–µ ‚Äî –≤—ã–¥–µ–ª–µ–Ω–∏–µ; –≤ –ø–∞–Ω–µ–ª–∏ —Å–ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã **Upgrade**/**Deselect**.  
- **Start wave** ‚Äî —Å—Ç–∞—Ä—Ç –≤–æ–ª–Ω—ã; **Pause/Resume**, **Restart**, **Speed √ó2** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–µ–π.

---

## üñº –ê—Å—Å–µ—Ç—ã (PNG)

–ó–∞–≥—Ä—É–∑—á–∏–∫–∏ –∏—â—É—Ç —Ñ–∞–π–ª—ã **–≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö** ‚Äî –∫–ª–∞–¥–∏ –∫—É–¥–∞ —É–¥–æ–±–Ω–µ–µ.

- `src/assets/towers/` **–∏–ª–∏** `public/assets/towers/`

      arrow_t1.png  arrow_t2.png  arrow_t3.png
      cannon_t1.png cannon_t2.png cannon_t3.png
      frost_t1.png  frost_t2.png  frost_t3.png

- `src/assets/mobs/` **–∏–ª–∏** `public/assets/mobs/`

      normal.png  fast.png  tank.png  flying.png

–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä, –∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –æ–±–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ø—É—Ç–∏.

---

## üñå –†–µ–Ω–¥–µ—Ä

- **–¢—Ä–∞–≤–∞** ‚Äî –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π –±–µ—Å—à–æ–≤–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω (–Ω–µ –º—ã–ª–∏—Ç—Å—è –Ω–∞ Retina).  
- **–î–æ—Ä–æ–≥–∞** ‚Äî ¬´–ª–µ–Ω—Ç–∞¬ª –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —à—Ç—Ä–∏—Ö–æ–≤: —Ç–µ–Ω—å, –≥—Ä—É–Ω—Ç, –±–æ—Ä—Ç, –±–ª–∏–∫.  
- **–ë–∞—à–Ω–∏/–º–æ–±—ã** ‚Äî PNG —Å –º—è–≥–∫–∏–º–∏ —Ç–µ–Ω—è–º–∏; –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ **HP-–±–∞—Ä—ã** (—Å–µ—Ä—ã–π —Ñ–æ–Ω + —Ü–≤–µ—Ç –ø–æ –æ—Å—Ç–∞—Ç–∫–∞–º).  
- **–°–µ–ª–µ–∫—Ç** ‚Äî –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π –±–µ–ª—ã–π –∫—Ä—É–≥ –≤–æ–∫—Ä—É–≥ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –±–∞—à–Ω–∏.  
- **Hi-DPI** ‚Äî –∫–∞–Ω–≤–∞—Å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –ø–æ `devicePixelRatio`.

---

## ‚öôÔ∏è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –û–¥–∏–Ω —Ü–∏–∫–ª `requestAnimationFrame`, –∑–∞–≤–∏—Å—è—â–∏–π —Ç–æ–ª—å–∫–æ –æ—Ç `running`.  
- –í–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–µ—Ä—ë—Ç—Å—è —á–µ—Ä–µ–∑ `useGame.getState()` ‚Äî –±–µ–∑ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö `game`.  
- –ê—Å—Å–µ—Ç—ã –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ ¬´–∑–∞–ø–µ–∫–∞—Ç—å¬ª —Ñ–æ–Ω/–¥–æ—Ä–æ–≥—É –≤ offscreen-–∫–∞–Ω–≤–∞—Å.)

---

## üìà –ë–∞–ª–∞–Ω—Å (–¥–µ—Ñ–æ–ª—Ç)

- **Arrow:** dmg 10/16/24, range 2.4/2.6/2.8, rate 1.2/1.5/1.8.  
- **Cannon:** dmg 16/24/36, range 2.2/2.4/2.6, rate 0.8/1.0/1.2, splash —Ä–∞—Å—Ç—ë—Ç —Å —Ç–∏—Ä–æ–º.  
- **Frost:** dmg 4/6/8, range 2.0/2.2/2.4, rate 0.7/0.9/1.0, slow ‚âà50% —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

–í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω—ã –≤ `engine/sim.ts`.

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- –†–∞–∑–º–µ—Ä —Ç–∞–π–ª–∞ ‚Äî `setTilePx(64)` –≤ `renderers/canvas.ts`.  
- –ö–∞—Ä—Ç—É/–ø—É—Ç—å –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤ `engine/grid.ts`.  
- –°—Ç–æ–∏–º–æ—Å—Ç—å/–∞–ø–≥—Ä–µ–π–¥—ã –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤–æ–ª–Ω ‚Äî –≤ `engine/sim.ts`.

---

## üß™ –¢–µ—Å—Ç-—á–µ–∫–ª–∏—Å—Ç

- [ ] –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞ `buildable` –∏ –Ω–µ –ø–æ–≤–µ—Ä—Ö –±–∞—à–µ–Ω.  
- [ ] *Start wave* –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é –≤–æ–ª–Ω—É –ø–æ–≤—Ç–æ—Ä–Ω–æ.  
- [ ] –ñ–∏–∑–Ω–∏ –∫–ª–∞–º–ø—è—Ç—Å—è –¥–æ 0, —Å–∏–º—É–ª—è—Ü–∏—è —Å—Ç–æ–ø–∞–µ—Ç—Å—è.  
- [ ] –ê–ø–≥—Ä–µ–π–¥ –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—ã –∏ —Å–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å.  
- [ ] HP-–±–∞—Ä—ã —Ä–µ–∞–ª—å–Ω–æ —É–º–µ–Ω—å—à–∞—é—Ç—Å—è (–≤–∏–¥–µ–Ω —É—Ä–æ–Ω —É –≤—Å–µ—Ö –±–∞—à–µ–Ω, –≤–∫–ª—é—á–∞—è Frost).  
- [ ] FPS –Ω–µ –ø—Ä–æ–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ/–∞–ø–≥—Ä–µ–π–¥–µ –±–∞—à–µ–Ω.

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
